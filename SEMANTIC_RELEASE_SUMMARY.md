# ğŸš€ Semantic Release - å®Œå…¨è‡ªåŠ¨åŒ–ç‰ˆæœ¬ç®¡ç†

## âœ… å·²é…ç½®å®Œæˆï¼

æ˜¯çš„ï¼Œ**Semantic Releaseå¯ä»¥å®Œå…¨è‡ªåŠ¨ç»´æŠ¤tagå’Œç‰ˆæœ¬**ï¼æˆ‘å·²ç»ä¸ºä½ çš„é¡¹ç›®é…ç½®äº†å®Œæ•´çš„è‡ªåŠ¨åŒ–å‘å¸ƒç³»ç»Ÿã€‚

## ğŸ¯ æ ¸å¿ƒå›ç­”

**é—®ï¼šåŸºäºsemantic releaseæ˜¯ä¸æ˜¯å¯ä»¥è‡ªåŠ¨ç»´æŠ¤tagï¼Ÿ**

**ç­”ï¼šæ˜¯çš„ï¼100%è‡ªåŠ¨åŒ–ï¼**

- âœ… è‡ªåŠ¨åˆ›å»ºè¯­ä¹‰åŒ–ç‰ˆæœ¬tag (v1.0.0, v1.1.0ç­‰)
- âœ… è‡ªåŠ¨å†³å®šç‰ˆæœ¬å·å‡çº§ (major/minor/patch)
- âœ… è‡ªåŠ¨ç”ŸæˆCHANGELOG
- âœ… è‡ªåŠ¨åˆ›å»ºGitHub Release
- âœ… è‡ªåŠ¨æ„å»ºå¹¶ä¸Šä¼ DMG
- âœ… è‡ªåŠ¨æ›´æ–°æ‰€æœ‰ç‰ˆæœ¬æ–‡ä»¶

## ğŸ“Š å¯¹æ¯”ï¼šä¼ ç»Ÿ vs Semantic Release

### ä¼ ç»Ÿæ‰‹åŠ¨æµç¨‹ (ä¹‹å‰)
```bash
# 1. æ‰‹åŠ¨å†³å®šç‰ˆæœ¬å·
# 2. æ‰‹åŠ¨æ›´æ–°ç‰ˆæœ¬æ–‡ä»¶
vim video2ppt/__init__.py
# 3. æäº¤æ›´æ”¹
git commit -m "bump version"
# 4. æ‰‹åŠ¨åˆ›å»ºtag
git tag -a v1.2.0 -m "Release v1.2.0"
# 5. æ¨é€
git push origin v1.2.0
# 6. ç­‰å¾…CIæ„å»º
# 7. æ‰‹åŠ¨åˆ›å»ºRelease
# 8. æ‰‹åŠ¨å†™changelog
```
**è€—æ—¶ï¼š10-15åˆ†é’Ÿ** â±ï¸

### Semantic Release (ç°åœ¨)
```bash
# 1. æ­£å¸¸æäº¤ä»£ç 
git commit -m "feat: add new feature"
# 2. æ¨é€åˆ°main
git push
# å®Œæˆï¼å‰©ä¸‹å…¨è‡ªåŠ¨
```
**è€—æ—¶ï¼š10ç§’** ğŸš€

## ğŸ”„ è‡ªåŠ¨åŒ–å·¥ä½œæµ

```
å¼€å‘è€…æ“ä½œ                    Semantic Releaseè‡ªåŠ¨å®Œæˆ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                           
git commit -m "feat: xxx"  â†’  åˆ†æcommitç±»å‹
git push                   â†’  å†³å®šç‰ˆæœ¬å· (1.0.0 â†’ 1.1.0)
                          â†’  æ›´æ–°æ‰€æœ‰ç‰ˆæœ¬æ–‡ä»¶
                          â†’  ç”ŸæˆCHANGELOG.md
                          â†’  åˆ›å»ºgit tag v1.1.0
                          â†’  æ„å»ºmacOS app
                          â†’  åˆ›å»ºDMGå®‰è£…åŒ…
                          â†’  å‘å¸ƒGitHub Release
                          â†’  ä¸Šä¼ DMGåˆ°Release
                          â†’  é€šçŸ¥æˆåŠŸ âœ…
```

## ğŸ’¡ æ™ºèƒ½ç‰ˆæœ¬å†³ç­–

| Commitå†…å®¹ | å½“å‰ç‰ˆæœ¬ | æ–°ç‰ˆæœ¬ | è¯´æ˜ |
|-----------|---------|--------|------|
| `fix: ä¿®å¤bug` | v1.0.0 | v1.0.1 | Patchå‡çº§ |
| `feat: æ–°åŠŸèƒ½` | v1.0.0 | v1.1.0 | Minorå‡çº§ |
| `feat!: é‡å¤§å˜æ›´` | v1.0.0 | v2.0.0 | Majorå‡çº§ |
| å¤šä¸ªcommitsæ··åˆ | v1.0.0 | å–æœ€é«˜çº§åˆ« | æ™ºèƒ½å†³ç­– |

## ğŸ›  ç«‹å³å¼€å§‹ä½¿ç”¨

### 1. åˆå§‹åŒ–ï¼ˆåªéœ€ä¸€æ¬¡ï¼‰
```bash
# å®‰è£…ä¾èµ–å’Œé…ç½®hooks
./scripts/setup-semantic-release.sh
```

### 2. æ—¥å¸¸ä½¿ç”¨
```bash
# æ–¹å¼1: äº¤äº’å¼ï¼ˆæ–°æ‰‹å‹å¥½ï¼‰
npm run commit

# æ–¹å¼2: ç›´æ¥commitï¼ˆç†Ÿç»ƒåï¼‰
git commit -m "feat: æ·»åŠ æ·±è‰²æ¨¡å¼æ”¯æŒ"
git push
```

### 3. æŸ¥çœ‹è‡ªåŠ¨å‘å¸ƒ
```bash
# å®æ—¶æŸ¥çœ‹
open https://github.com/markshawn2020/video2ppt/actions

# å‡ åˆ†é’ŸåæŸ¥çœ‹æ–°ç‰ˆæœ¬
open https://github.com/markshawn2020/video2ppt/releases
```

## ğŸ“ˆ å®é™…æ•ˆæœé¢„è§ˆ

### è¾“å…¥ï¼ˆä½ çš„æ“ä½œï¼‰
```bash
git add .
git commit -m "feat: add re-convert button for video files"
git push origin main
```

### è¾“å‡ºï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
- **æ–°Tag**: `v1.3.0`
- **CHANGELOG**:
  ```markdown
  ## [1.3.0] - 2024-01-25
  ### âœ¨ Features
  - add re-convert button for video files
  ```
- **GitHub Release**: åŒ…å«DMGä¸‹è½½é“¾æ¥
- **ç‰ˆæœ¬æ–‡ä»¶**: å…¨éƒ¨è‡ªåŠ¨æ›´æ–°åˆ°1.3.0

## ğŸ‰ ä¼˜åŠ¿æ€»ç»“

| ç‰¹æ€§ | æ”¶ç›Š |
|-----|------|
| **é›¶äººå·¥å¹²é¢„** | èŠ‚çœ90%å‘å¸ƒæ—¶é—´ |
| **ç‰ˆæœ¬è§„èŒƒåŒ–** | éµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ |
| **è‡ªåŠ¨åŒ–changelog** | ç”¨æˆ·æ¸…æ¥šæ¯ç‰ˆæ›´æ–°å†…å®¹ |
| **å‡å°‘é”™è¯¯** | ä¸ä¼šå¿˜è®°æ›´æ–°ç‰ˆæœ¬æ–‡ä»¶ |
| **å›¢é˜Ÿåä½œ** | å¼ºåˆ¶è§„èŒƒçš„commitæ ¼å¼ |
| **æŒç»­äº¤ä»˜** | æ¯æ¬¡pushéƒ½å¯èƒ½è§¦å‘å‘å¸ƒ |

## ğŸš¦ å¿«é€Ÿå†³ç­–æ ‘

```
éœ€è¦å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Ÿ
    â”œâ”€ æ˜¯ â†’ ç›´æ¥commit+push â†’ è‡ªåŠ¨å®Œæˆ âœ…
    â””â”€ å¦ â†’ ä½¿ç”¨chore/docsç±»å‹ â†’ ä¸è§¦å‘å‘å¸ƒ âœ…

å¿˜è®°ç‰ˆæœ¬å·äº†ï¼Ÿ
    â””â”€ ä¸ç”¨ç®¡ â†’ Semantic Releaseè‡ªåŠ¨å†³å®š âœ…

è¦å†™Changelogï¼Ÿ
    â””â”€ ä¸ç”¨å†™ â†’ è‡ªåŠ¨ä»commitsç”Ÿæˆ âœ…
```

## ğŸ“ é…ç½®æ–‡ä»¶è¯´æ˜

| æ–‡ä»¶ | ä½œç”¨ |
|------|------|
| `.releaserc.json` | Semantic Releaseé…ç½® |
| `commitlint.config.js` | Commit messageæ ¡éªŒè§„åˆ™ |
| `package.json` | NPMä¾èµ–å’Œè„šæœ¬ |
| `.github/workflows/semantic-release.yml` | GitHub Actionså·¥ä½œæµ |
| `.husky/` | Git hooksè‡ªåŠ¨æ£€æŸ¥ |

## ğŸ”— ä¸‹ä¸€æ­¥

1. **ç«‹å³ä½“éªŒ**:
   ```bash
   ./scripts/setup-semantic-release.sh
   npm run commit  # è¯•è¯•äº¤äº’å¼commit
   ```

2. **æŸ¥çœ‹è¯¦ç»†æŒ‡å—**:
   - [å®Œæ•´ä½¿ç”¨æŒ‡å—](SEMANTIC_RELEASE_GUIDE.md)
   - [Commitè§„èŒƒç¤ºä¾‹](scripts/commit-example.sh)

3. **ç¬¬ä¸€æ¬¡è‡ªåŠ¨å‘å¸ƒ**:
   ```bash
   git commit -m "feat: enable semantic release"
   git push
   # å»GitHub Actionsçœ‹é­”æ³•å‘ç”Ÿï¼
   ```

## ğŸŠ ç»“è®º

**æ˜¯çš„ï¼ŒSemantic Releaseå¯ä»¥100%è‡ªåŠ¨ç»´æŠ¤tagï¼**

è€Œä¸”ä¸æ­¢äºæ­¤ï¼Œå®ƒè¿˜èƒ½ï¼š
- è‡ªåŠ¨å†³å®šç‰ˆæœ¬å·
- è‡ªåŠ¨ç”Ÿæˆchangelog  
- è‡ªåŠ¨å‘å¸ƒåˆ°GitHub
- è‡ªåŠ¨æ„å»ºDMG
- è‡ªåŠ¨æ›´æ–°ç‰ˆæœ¬æ–‡ä»¶

**ä½ åªéœ€è¦è§„èŒƒåœ°å†™commitï¼Œå‰©ä¸‹çš„å…¨éƒ¨è‡ªåŠ¨ï¼** ğŸš€